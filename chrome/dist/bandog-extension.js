(()=>{var T=Object.create;var j=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var S=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var L=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of O(e))!R.call(n,i)&&i!==t&&j(n,i,{get:()=>e[i],enumerable:!(r=A(e,i))||r.enumerable});return n};var _=(n,e,t)=>(t=n!=null?T(P(n)):{},L(e||!n||!n.__esModule?j(t,"default",{value:n,enumerable:!0}):t,n));var q=S(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.DropPolicy=void 0;l.default=D;var h=new Map,d;(function(n){n[n.Reject=0]="Reject",n[n.DropOldest=1]="DropOldest"})(d||(l.DropPolicy=d={}));var p=class{constructor(e){this.queue=[],this.timer=null,this.settings=e}};function C(n){let{id:e}=n;if(h.has(e))return h.get(e);{let t=new p(n);return h.set(e,t),t}}function D(n,e,t={id:0}){let r=t.id===0?new p(t):C(t);function i(){let s=r.queue.shift();s&&s.action(),r.queue.length===0&&r.timer!==null&&(clearInterval(r.timer),r.timer=null)}function c(...s){var a;let{maxQueueSize:m,dropPolicy:y}=r.settings,w,b,x=new Promise((o,u)=>{w=o,b=u}),g={action:()=>w(n(...s)),reject:o=>{b(o)},id:t.id};if(x.cancel=o=>{let u=r.queue.indexOf(g);u!==-1&&(r.queue.splice(u,1),g.reject(o||new Error("Cancelled by user.")))},m!==void 0&&r.queue.length>=m){if(y===d.Reject)return Promise.reject(new Error("Queue is at max capacity."));y===d.DropOldest&&((a=r.queue.shift())===null||a===void 0||a.reject(new Error("Queue is at max capacity.")))}return r.queue.push(g),r.timer===null&&(i(),r.timer=setInterval(i,e)),x}return c}});var E=_(q()),M=Object.freeze("https://data.objkt.com/v3/graphql"),X=21337,G=600;function Q(n){return{operationName:"GetXUserAddress",query:"query GetXUserAddress($xLinks: [String!]!) { holder(where: { twitter: { _in: $xLinks }, flag: { _eq: none }}) {address alias}}",variables:{xLinks:n}}}function $(n){return new Promise(e=>{fetch(M,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(t=>t.json()).then(t=>e(t)).catch(()=>e(null))})}function z(n){return new Promise(e=>{n===null?e([]):$(Q([`https://x.com/${n}`,`https://twitter.com/${n}`])).then(t=>t==null?void 0:t.data).then(t=>t==null?void 0:t.holder.map(r=>r.address)).then(t=>e(t!=null?t:[])).catch(()=>e([]))})}var v={GetXUserTezosAddresses:(0,E.default)(z,G,{id:X})};var f=new Map;function N(n){var i,c;let e=n.closest('[data-testid="tweet"]');if(!e)return null;if(e.querySelector('[data-testid="socialContext"]')){let s=e.querySelector('div[data-testid="User-Name"] a[role="link"]');if(s)return((i=s.getAttribute("href"))==null?void 0:i.slice(1))||null}let r=e.querySelector('a[href^="/"][role="link"]');return r&&((c=r.getAttribute("href"))==null?void 0:c.slice(1))||null}function U(n,e){var t;((t=e==null?void 0:e.length)!=null?t:0)>0&&(n.style.display="flex",n.addEventListener("click",()=>{e==null||e.forEach(r=>window.open(`https://bandog.pet/scanner/${r}`))}))}function H(n){let e=document.createElement("img");return e.src="https://bandog.pet/png/logo-white.png",e.style.objectFit="contain",e.style.margin="auto",e.title=n,e.style.transition="0.5s",e.style.opacity="0.5",e.style.filter="drop-shadow( 0px 0px 0px rgba(255, 255, 255, 1))",e.onmouseover=()=>{e.style.filter="drop-shadow( 0px 0px 10px rgba(255, 255, 255, 1))",e.style.opacity="1"},e.onmouseleave=()=>{e.style.filter="drop-shadow( 0px 0px 0px rgba(255, 255, 255, 1))",e.style.opacity="0.5"},e}function I(){document.querySelectorAll('[data-testid="bookmark"]').forEach(e=>{if((e==null?void 0:e.parentElement)===null||e.parentElement.querySelector(".bandog-button"))return;let t=N(e);if(t==null)return;let r=document.createElement("button");r.className="bandog-button",r.style.background="none",r.style.border="none",r.style.marginRight="18px",r.style.cursor="pointer",r.style.padding="0",r.style.width="16px",r.style.height="100%",r.appendChild(H(`Scan @${t} on Bandog!`)),r.style.display="none",e==null||e.parentElement.insertBefore(r,e),f.has(t)?U(r,f.get(t)):v.GetXUserTezosAddresses(t).then(i=>i).then(i=>{f.has(t)||f.set(t,i),U(r,i)})})}var F=new MutationObserver(I);F.observe(document.body,{childList:!0,subtree:!0});I();})();
